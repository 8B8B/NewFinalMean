<!DOCTYPE html>
<!-- <script src="home.client.controller.js"></script> -->
<style>
  form {
    max-width: 550px;
    margin: 0 auto;
  }

  legend {
    margin-top: 10px;
  }

  h3 {
    background-color: lightblue;
    width: 300px;
    border-style: solid;
    padding: 15px;
    padding-bottom: 150px;
    max-height: 75px;
    float: left;
    text-align: center;
    font-family: futura, "Trebuchet MS", Arial, sans-serif;
  }

  ng-map {
    width: 70%;
    height: 150%;
    margin-right: 10px;
    float: right;
  }

  h4 {
    max-width: 300px;
    margin-top: 300px;
    margin-left: 20px;
  }

  .info {
    display: none;
  }
</style>


<section ng-controller="HomeController">
  <div id="map"></div>
  <br>
  <div class="boxed">
    <form>
      <legend> Toggle Between Different Displays: </legend>
      <p> </p>
      <p>
        <input type="checkbox" name="demographic" value="demographic" id="demographic">
        <label for="demographic"> Demographic Information &emsp; &emsp; &emsp; &emsp; &emsp;
          </label>
        <input type="checkbox" name="routes" value="routes" id="routes">
        <label for="routes"> Bus Routes
          </label>
      </p>
      <p>
        <input type="checkbox" name="demographic" value="demographic" id="demographic">
        <label for="demographic">  Travel Time Comparisons &emsp; &emsp; &emsp; &emsp; &emsp;
          </label>
        <input type="checkbox" name="routes" value="routes" id="routes">
        <label for="routes"> Heat Map
          </label>
      </p>
    </form>
  <br>
  <!--
var fs = require('fs');
var mongoose = require('mongoose');
var Schema = mongoose.Schema;
var Demo = require('./DemoSchema.js');
var config = require('./config');
var data = require('./demographics.json');
mongoose.connect(config.db.uri, { useMongoClient: true });
$scope.32601 = Demo.find({zip: 32601});
$scope.32603 = Demo.find({zip: 32603});
$scope.32605 = Demo.find({zip: 32605});
$scope.32606 = Demo.find({zip: 32606});
$scope.32607 = Demo.find({zip: 32607});
$scope.32608 = Demo.find({zip: 32608});
$scope.32609 = Demo.find({zip: 32609});
$scope.32641 = Demo.find({zip: 32641});
$scope.32653 = Demo.find({zip: 32653});
-->

<script type="text/javascript">
  function toggleVisibility(element) {
  if(element.style.display==='none'){
    element.style.display ='block';
  } else {
    element.style.display ='none';
  }
};
</script>
<span style="display: inline;" id="demographicbuttons">
  &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp;
  <button type="button" onclick="alert('Zip Code: 32601 Population: 18,585 Median Age: 21.1 Number of Houses: 2,422 Median Income: $24,272 Below Poverty Line: 54.50%')"> 32601 </button>
  &emsp;
  <button type="button" onclick="alert('Zip Code: 32603 Population: 6,741 Median Age: 24.4 Number of Houses: 9,182 Median Income: $20,080 Below Poverty Line: 46.90%')"> 32603 </button>
  &emsp;
  <button type="button" onclick="toggleVisibility(document.getElementById('32605'))"> 32605 </button>
  &emsp;
  <button type="button" onclick="toggleVisibility(document.getElementById('32606'))"> 32606 </button>
  &emsp;
  <button type="button" onclick="toggleVisibility(document.getElementById('32607'))"> 32607 </button>
  &emsp;
  <button type="button" onclick="toggleVisibility(document.getElementById('32608'))"> 32608 </button>
  &emsp;
  <button type="button" onclick="toggleVisibility(document.getElementById('32609'))"> 32609 </button>
  &emsp;
  <button type="button" onclick="toggleVisibility(document.getElementById('32641'))"> 32641 </button>
  &emsp;
  <button type="button" onclick="toggleVisibility(document.getElementById('32653'))"> 32653 </button>
</span>

    <br>
    <br>
    <ng-map center="University of Florida" zoom='12'>
      <transit-layer> </transit-layer>
      <traffic-layer> </traffic-layer>
      <div id="arrows">

      </div>
      <div id="markers">
      <custom-marker z-index="1" position="[29.6422516,-82.3289111]" title="32601"> <span class="zip"> 32601 </span> </custom-marker>
        <custom-marker z-index="2" position="[29.6422516,-82.3289111]">
           <span class="box white" id="32601"> Zip Code: 32601 <br>
           Population: 18,585<br>
           Median Age: 24.4<br>
           Number of Houses: 9,182<br>
           Median Income: $24,272<br>
           Below Poverty Line: 46.90% <br>
            </span>
        </custom-marker>
      <custom-marker z-index="1" position="[29.6677485,-82.3479016]" title="32603"> <span class="zip"> 32603 </span> </custom-marker>
        <custom-marker z-index="2" position="[29.6677485,-82.3479016]"> 
         <div class="box white hide" id="32603">
           <p> Zip Code: 32603 <br>
           Population: 6,741<br>
           Median Age: 21.1<br>
           Number of Houses: 2,422<br>
           Median Income: $20,080<br>
           Below Poverty Line: 54.50%<br>
            </p>
          </div>
        </custom-marker>
      <custom-marker z-index="1" position="[29.6923128,-82.3723105]" title="32605"> <span class="zip"> 32605 </span> </custom-marker>
        <custom-marker z-index="2" position="[29.6923128,-82.3723105]"> 
         <div  class="box white hide" id="32605">
           <p> Zip Code: 32605 <br>
           Population: 22,925<br>
           Median Age: 40<br>
           Number of Houses: 10,459<br>
           Median Income: $69,264<br>
           Below Poverty Line: 12.10%<br>
            </p>
          </div>
        </custom-marker>
      <custom-marker z-index="1" position="[29.6788293,-82.4644445]" title="32606"> <span class="zip"> 32606 </span> </custom-marker>
        <custom-marker z-index="2" position="[29.6788293,-82.4644445]"> 
         <div class="box white hide" id="32606">
           <p> Zip Code: 32606 <br>
           Population: 21,833<br>
           Median Age: 36.8<br>
           Number of Houses: 10,600<br>
           Median Income: $59,122<br>
           Below Poverty Line: 10.10%<br> 
            </p>
          </div>
        </custom-marker>
      <custom-marker z-index="1" position="[29.647247,-82.4156829]" title="32607"> <span class="zip"> 32607 </span> </custom-marker>
        <custom-marker z-index="2" position="[29.647247,-82.4156829]"> 
         <div class="box white hide" id="32607">
           <p> Zip Code: 32607 <br>
           Population: 29,750<br>
           Median Age: 25.1<br>
           Number of Houses: 14,802<br>
           Median Income: $33,724<br>
           Below Poverty Line: 35.40%<br>
            </p>
          </div>
        </custom-marker>
      <custom-marker z-index="1" position="[29.6156734,-82.3659168]" title="32608"> <span class="zip"> 32608 </span> </custom-marker>
        <custom-marker z-index="2" position="[29.6156734,-82.3659168]"> 
         <div class="box white hide" id="32608">
           <p> Zip Code: 32608 <br>
           Population: 45,842<br>
           Median Age: 28<br>
           Number of Houses: 23,245<br>
           Median Income: $40,465<br>
           Below Poverty Line: 29.40%<br>
            </p>
          </div>
        </custom-marker>
      <custom-marker z-index="1" position="[29.7935588,-82.2583297]" title="32609"> <span class="zip"> 32609 </span> </custom-marker>
        <custom-marker z-index="2" position="[29.7935588,-82.2583297]"> 
         <div class="box white hide" id="32609">
           <p> Zip Code: 32609 <br>
           Population: 18,756<br>
           Median Age: 36.1<br>
           Number of Houses: 7,999<br>
           Median Income: $28,569<br>
           Below Poverty Line: 32.80%<br>
            </p>
          </div>
        </custom-marker>
      <custom-marker z-index="1" position="[29.6311155,-82.2365981]" title="32641"> <span class="zip"> 32641 </span> </custom-marker>
        <custom-marker z-index="2" position="[29.6311155,-82.2365981]"> 
         <div class="box white hide" id="32641">
           <p> Zip Code: 32641 <br>
           Population: 14,291<br>
           Median Age: 34.9<br>
           Number of Houses: 5,290<br>
           Median Income: $30,091<br>
           Below Poverty Line: 32.80%<br>
            </p>
          </div>
        </custom-marker>
      <custom-marker z-index="1" position="[29.7429556,-82.3777335]" title="32653"> <span class="zip"> 32653 </span> </custom-marker>
        <custom-marker z-index="2" position="[29.7429556,-82.3777335]"> 
         <div class="box white hide" id="32653">
           <p> Zip Code: 32653 <br>
           Population: 13,107<br>
           Median Age: N/A<br>
           Number of Houses: 6,085<br>
           Median Income: $64,570<br>
           Below Poverty Line: N/A<br>
            </p>
          </div>
        </custom-marker>
      </div>
    </ng-map>
    <h3 id="demo">
        Select a location and view the difference in travel times and frequency.
    </h3>

    <br>
    <br>
    <h4>
      <p>Select a starting location</p>
      <select id="mySelect">
              <option value="shands">Shands Hospital</option>
              <option value="butler">Butler Plaza</option>
              <option value="rosa">Rosa Park's Downtown Station</option>
              <option value="santa">Santa Fe College</option>
          </select>




      <script>
        document.getElementById("mySelect").addEventListener("change", myFunction);
        function myFunction() {
          var x = document.getElementById("mySelect").value;
          if (x == "shands") {
            document.getElementById("demo").innerHTML = "Shands to Santa Fe: 38 minutes, every 30 minutes <br>Shands to Downtown: 30 minutes, every ~51 minutes";
            document.getElementById("arrows").innerHTML = `<shape name="polyline" id="foo" path="[[29.6422516, -82.3289111], [29.6577485, -82.3479016]]" icons="[{
                icon: {
                  path: 'FORWARD_CLOSED_ARROW'
                },
                offset: '100%'
              }]">
            </shape>`;
          }
          if (x == "butler") {
            document.getElementById("demo").innerHTML = "Butler Plaza to Oaks Mall: 38 minutes, every 30 minutes <br>Butler Plaza to Downtown: 30 minutes, every ~51 minutes";
            document.getElementById("arrows").innerHTML = `<shape name="polyline" id="foo" path="[[29.6422516, -82.3289111], [29.6577485, -82.3479016]]" icons="[{
                icon: {
                  path: 'FORWARD_CLOSED_ARROW'
                },
                offset: '100%'
              }]">
            </shape>`;
          }
          if (x == "rosa") {
            document.getElementById("demo").innerHTML = "Downtown to Oaks Mall: 38 minutes, every 30 minutes <br>Downtown to Santa Fe: 30 minutes, every ~51 minutes";
            document.getElementById("arrows").innerHTML = `<shape name="polyline" id="foo" path="[[29.6422516, -82.3289111], [29.6577485, -82.3479016]]" icons="[{
                icon: {
                  path: 'FORWARD_CLOSED_ARROW'
                },
                offset: '100%'
              }]">
            </shape>`;
          }
          if (x == "santa") {
            document.getElementById("demo").innerHTML = "Santa Fe to Butler Plaza: 38 minutes, every 30 minutes <br>Santa Fe to Oaks Plaza: 30 minutes, every ~51 minutes";
            document.getElementById("arrows").innerHTML = `<shape name="polyline" id="foo" path="[[29.6422516, -82.3289111], [29.6577485, -82.3479016]]" icons="[{
                icon: {
                  path: 'FORWARD_CLOSED_ARROW'
                },
                offset: '100%'
              }]">
            </shape>`;
          }

        }
      </script>
</section>